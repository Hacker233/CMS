{"code":"webpackJsonp([1],{574:function(e,t,o){(function(e,t,s){var n=o(575),r=o(576),l=o(10),i=o(36);location.hash.length<=1&&(alert(\"链接不正确\"),window.close());var a=location.hash.substr(1,24),c=decodeURIComponent(location.hash.substr(25));sessionStorage.setItem(\"baseUrl\",c),new e({el:\"#app\",data:{md:null,type:0,key:\"\"},store:n,components:{list:r},watch:{key:function(e){this.$store.dispatch(\"search\",{key:e,type:this.type})}},computed:{selDoc:function(){return this.$store.state.selDoc},preview:function(){return this.selDoc?(this.$nextTick(function(){var e=document.getElementById(\"preview\"),o=e.querySelectorAll(\"img\");for(let e=0;e<o.length;e++)if(/^http:\\/\\/localhost\\:8081/.test(o[e].src)){let t=o[e].src.substr(21);o[e].src=(\"doclever.cn\"==sessionStorage.getItem(\"env\")?l.onlineHost:sessionStorage.getItem(\"baseUrl\"))+t}else if(/^file:\\/\\//.test(o[e].src)){let t=o[e].src.lastIndexOf(\":\"),s=o[e].src.substr(t+1);o[e].src=(\"doclever.cn\"==sessionStorage.getItem(\"env\")?l.onlineHost:sessionStorage.getItem(\"baseUrl\"))+s}for(var n=e.querySelectorAll(\"a\"),r=0;r<n.length;r++)if(/^interface\\:\\/\\//.test(n[r].href)){n[r].style.textDecoration=\"none\",n[r].style.color=\"#67C23A\";var a=n[r].href,c=a.indexOf(\"/\"),u=a.indexOf(\"?\"),d=a.substring(c+2,u),h={};a.substr(u+1).split(\"&\").forEach(function(e){var t=e.split(\"=\");h[t[0]]=t[1]?t[1]:\"\"}),n[r].href=\"javascript:void(0)\",n[r].onclick=function(e,o){var n=this;t.startHud(),Promise.all([s.get(\"/doc/interface\",{id:e}),s.get(\"/doc/interfaceInfo\",{id:e})]).then(function(e){var s=e[0],r=e[1];t.stopHud(),200==s.code?200==r.code?t.showBox(n,i,{run:o,source:s.data,baseUrls:r.data.baseUrls,status:r.data.status,before:r.data.before,after:r.data.after}):t.tip(r.msg,0):t.tip(s.msg,0)})}.bind(this,d,h.run?Number(h.run):0)}else if(/^http:\\/\\/localhost\\:8081/.test(n[r].href)){let e=n[r].href.substr(21);n[r].href=(\"doclever.cn\"==sessionStorage.getItem(\"env\")?l.onlineHost:sessionStorage.getItem(\"baseUrl\"))+e}else if(/^file:\\/\\//.test(n[r].href)){n[r].download=n[r].innerText;let e=n[r].href.lastIndexOf(\":\"),t=n[r].href.substr(e+1);n[r].href=(\"doclever.cn\"==sessionStorage.getItem(\"env\")?l.onlineHost:sessionStorage.getItem(\"baseUrl\"))+t}else n[r].target=\"_blank\"}),this.md.render(this.selDoc.content)):\"\"},doc:function(){return n.state.doc},list:function(){return n.state.list}},methods:{},created:function(){var e=this;sessionStorage.setItem(\"login\",\"1\"),window.hljs.initHighlightingOnLoad(),this.md=window.markdownit({highlight:function(t,o){if(o&&window.hljs.getLanguage(o))try{return'<pre class=\"hljs\"><code>'+window.hljs.highlight(o,t,!0).value+\"</code></pre>\"}catch(e){}return'<pre class=\"hljs\"><code>'+e.md.utils.escapeHtml(t)+\"</code></pre>\"}}),n.dispatch(\"init\",a).then(function(e){t.stopLoading(),200!=e.code&&t.tip(e.msg,0)})}}),t.ready(function(){t.startLoading()})}).call(t,o(6),o(1),o(2))},575:function(e,t,o){(function(t,o){e.exports=new t.Store({state:{doc:{owner:{}},list:[],selDoc:null,selItem:null},actions:{init:function(e,t){return Promise.all([o.get(\"/doc/project\",{project:t}),o.get(\"/doc/structure\",{project:t})]).then(function(t){var o=t[0],s=t[1];return 200!=o.code?o:(e.state.doc=o.data,200!=s.code?s:(function(e){for(var t=0;t<e.length;t++){var o=e[t];o.menu=0,o.show=0,arguments.callee(o.childGroup);for(var s=0;s<o.childDoc.length;s++){var n=o.childDoc[s];n.menu=0,n.select=0}}}(s.data),e.state.list=s.data,{code:200}))})},info:function(e,t){return o.get(\"/doc/doc\",{id:t._id}).then(function(o){return 200==o.code&&(e.state.selItem&&(e.state.selItem.select=0),e.state.selItem=t,e.state.selItem.select=1,e.state.selDoc=o.data),o})},search:function(e,t){return e.state.selDoc=null,e.state.selItem=null,o.get(\"/doc/filterstructure\",{project:e.state.doc._id,key:t.key,type:t.type}).then(function(t){return 200==t.code&&(!function(e){for(var t=0;t<e.length;t++){var o=e[t];o.menu=0,o.show=1,arguments.callee(o.childGroup);for(var s=0;s<o.childDoc.length;s++){var n=o.childDoc[s];n.menu=0,n.select=0}}}(t.data),e.state.list=t.data),t})}}})}).call(t,o(14),o(2))},576:function(e,t,o){var s=o(0)(o(577),o(578),null,null);s.options.__file=\"/Users/sunxin/DOCleverClient/web/console/read/component/list.vue\",s.esModule&&Object.keys(s.esModule).some(function(e){return\"default\"!==e&&\"__esModule\"!==e})&&console.error(\"named exports are not supported in *.vue files.\"),s.options.functional&&console.error(\"[vue-loader] list.vue: functional components are not supported with templates, they should use render functions.\"),e.exports=s.exports},577:function(e,t,o){(function(t){e.exports={name:\"docgrouplist\",props:{level:{type:Number,default:0},group:Array,doc:{type:Array,default:[]},parent:Object},data:function(){return{}},computed:{},methods:{mouseEnter:function(e,t){t.menu=1},mouseLeave:function(e,t){t.menu=0},info:function(e,o,s){this.$store.state.selItem&&e._id==this.$store.state.selItem._id||(t.startHud(),this.$store.dispatch(\"info\",e).then(function(e){t.stopHud(),200==e.code||t.tip(e.msg,0)}))}}}}).call(t,o(1))},578:function(e,t,o){e.exports={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"el-row\",{staticClass:\"row\",staticStyle:{cursor:\"pointer\",\"white-space\":\"nowrap\",\"background-color\":\"white\"},attrs:{id:\"docTree\"}},[e._l(e.group,function(t,s){return[0==e.level||t.childDoc&&e.parent.show?o(\"el-row\",{key:t._id,staticClass:\"row\",staticStyle:{height:\"35px\",\"line-height\":\"35px\",\"white-space\":\"nowrap\"},style:{backgroundColor:t.select?\"#50bfff\":t.menu?\"rgb(247,246,242\":\"\"},nativeOn:{mouseenter:function(o){e.mouseEnter(o,t)},mouseleave:function(o){e.mouseLeave(o,t)}}},[e.level>0?e._l(e.level,function(t){return o(\"el-col\",{staticClass:\"col\",style:{borderRight:\"1px lightgray dashed\"},attrs:{span:2}},[e._v(\"\\n                     \\n                \")])}):e._e(),e._v(\" \"),o(\"el-col\",{staticClass:\"col\",staticStyle:{\"text-align\":\"center\",\"white-space\":\"nowrap\"},attrs:{span:4},nativeOn:{click:function(e){t.show=!t.show}}},[o(\"span\",{class:t.show?\"fa fa-folder-open\":\"fa fa-folder\",staticStyle:{color:\"#c7c7c7\",\"font-size\":\"13px\"}})]),e._v(\" \"),o(\"el-col\",{staticClass:\"col\",style:{margin:0,fontSize:\"14px\",color:\"gray\",whiteSpace:\"nowrap\",padding:0,textOverflow:\"ellipsis\",overflow:\"hidden\",textDecoration:t.delete?\"line-through\":\"none\"},attrs:{span:20-2*e.level,title:t.name},nativeOn:{click:function(e){t.show=!t.show}}},[e._v(\"\\n                \"+e._s(t.name)+\"\\n            \")])],2):e._e(),e._v(\" \"),o(\"el-collapse-transition\",[t.show?o(\"docgrouplist\",{attrs:{level:e.level+1,group:t.childGroup,doc:t.childDoc,parent:t}}):e._e()],1)]}),e._v(\" \"),e._l(e.doc,function(t,s){return[e.parent.show?o(\"el-row\",{key:t._id,staticClass:\"row\",staticStyle:{height:\"35px\",\"line-height\":\"35px\"},style:{backgroundColor:t.select?\"#50bfff\":t.menu?\"rgb(247,246,242\":\"\"},attrs:{section:s,row:s},nativeOn:{mouseenter:function(o){e.mouseEnter(o,t)},mouseleave:function(o){e.mouseLeave(o,t)},click:function(o){e.info(t,s,o)}}},[e.level>0?e._l(e.level,function(t){return o(\"el-col\",{staticClass:\"col\",style:{borderRight:\"1px lightgray dashed\"},attrs:{span:2}},[e._v(\"\\n                     \\n                \")])}):e._e(),e._v(\" \"),o(\"el-col\",{staticClass:\"col\",staticStyle:{\"text-align\":\"center\"},attrs:{span:4}},[o(\"i\",{staticClass:\"el-icon-document\"})]),e._v(\" \"),o(\"el-col\",{staticClass:\"col\",style:{fontSize:\"14px\",margin:0,color:t.select?\"white\":\"gray\",lineHeight:\"35px\",textOverflow:\"ellipsis\",overflow:\"hidden\"},attrs:{span:20-2*e.level,name:\"treeName\",title:t.name}},[e._v(\"\\n                \"+e._s(t.name)+\"\\n            \")])],2):e._e()]})],2)},staticRenderFns:[]},e.exports.render._withStripped=!0}},[574]);","extractedComments":[]}